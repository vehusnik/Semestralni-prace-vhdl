<Window x:Class="Semestralni_prace_vhdl.Views.LekarskaZpravaWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Lékařská zpráva" Height="650" Width="1100"
        WindowStartupLocation="CenterScreen">

    <Grid Background="White">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <Border Grid.Row="0" Background="#B0B0B0" Padding="15">
            <StackPanel HorizontalAlignment="Center">
                <TextBlock Text="Lékařská zpráva" FontSize="28" Foreground="Black" HorizontalAlignment="Center" FontFamily="Segoe UI Light"/>
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,5,0,0">
                    <TextBlock Text="Pacient: " FontWeight="Bold" FontSize="16"/>
                    <TextBlock Text="{Binding Pacient.Jmeno}" FontSize="16" Margin="0,0,5,0"/>
                    <TextBlock Text="{Binding Pacient.Prijmeni}" FontSize="16"/>
                </StackPanel>
            </StackPanel>
        </Border>

        <Grid Grid.Row="1" Margin="20">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="1.2*"/>
                <ColumnDefinition Width="20"/>
                <ColumnDefinition Width="1*"/>
            </Grid.ColumnDefinitions>

            <Grid Grid.Column="0">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <TextBlock Text="Nová zpráva" FontSize="18" FontWeight="SemiBold" Margin="0,0,0,15"/>

                <Label Grid.Row="1" Content="Datum vyšetření:" Background="#D3D3D3" Margin="0,5"/>
                <DatePicker Grid.Row="2" SelectedDate="{Binding NovaZprava.DatumVysetreni}" Margin="0,0,0,10"/>

                <Label Grid.Row="3" Content="Popis příznaků / obtíží:" Background="#D3D3D3" Margin="0,5"/>
                <TextBox Grid.Row="4" Text="{Binding NovaZprava.Popis}" Height="80" TextWrapping="Wrap" VerticalScrollBarVisibility="Auto" Margin="0,0,0,10" Padding="5"/>

                <Label Grid.Row="5" Content="Diagnóza:" Background="#D3D3D3" Margin="0,5"/>
                <TextBox Grid.Row="6" Text="{Binding NovaZprava.Diagnoza}" Height="40" TextWrapping="Wrap" Margin="0,0,0,10" Padding="5"/>

                <Label Grid.Row="7" Content="Doporučení / další vyšetření:" Background="#D3D3D3" Margin="0,5"/>
                <TextBox Grid.Row="8" Text="{Binding NovaZprava.Doporuceni}" Height="80" TextWrapping="Wrap" VerticalScrollBarVisibility="Auto" Padding="5"/>
            </Grid>

            <Grid Grid.Column="2">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <TextBlock Text="Historie zpráv pacienta" FontSize="18" FontWeight="SemiBold" Margin="0,0,0,15"/>

                <DataGrid Grid.Row="1" ItemsSource="{Binding HistorieZprav}" 
                          AutoGenerateColumns="False" CanUserAddRows="False" IsReadOnly="True" Background="#F5F5F5">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="Datum" Binding="{Binding DatumVysetreni, StringFormat=dd.MM.yyyy}" Width="Auto"/>
                        <DataGridTextColumn Header="Diagnóza" Binding="{Binding Diagnoza}" Width="*"/>
                        <DataGridTextColumn Header="Lékař" Binding="{Binding Lekar}" Width="Auto"/>
                    </DataGrid.Columns>
                </DataGrid>
            </Grid>
        </Grid>

        <Border Grid.Row="2" Padding="20" Background="#F0F0F0">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                <TextBlock Text="💾" FontSize="30" VerticalAlignment="Center" Margin="0,0,10,0"/>
                <Button Content="Uložit zprávu" Click="BtnUlozitZpravu_Click" Width="150" Height="40" Background="#C0C0C0" BorderThickness="0" FontWeight="SemiBold" FontSize="16"/>
            </StackPanel>
        </Border>
    </Grid>
</Window>